<script setup>
import { computed,ref } from 'vue';

//商品分類
const categories = [
    { id: 'f1', name: '水果' },
    { id: 'f2', name: '蔬菜' },
    { id: 'f3', name: '飲料' }
]
//商品
const items = [
    { id: 1, name: '蘋果'  , categoryId: 'f1' },
    { id: 2, name: '香蕉'  , categoryId: 'f1' },
    { id: 3, name: '胡蘿蔔', categoryId: 'f2' },
    { id: 4, name: '青花菜', categoryId: 'f2' },
    { id: 5, name: '可樂'  , categoryId: 'f3' },
    { id: 6, name: '柳橙汁', categoryId: 'f3' }
]

const selectedCategory = ref('')
const filtedItems = computed(()=>{

    return items.filter(i=>i.categoryId==selectedCategory.value)
})

</script>

<template>
    <h1>08-計算屬性</h1>
    <div>
        商品分類 :
        <select v-model="selectedCategory">
            <!-- <option value="f1">水果</option> -->
            <!-- <option value="f2">蔬菜</option> -->
            <option value="">請選擇分類</option>
            <option v-for="category in categories"
            :key="category.id" 
            :value="category.id">
            {{ category.name }}
            </option>
        </select>
        商品 :
        <select>
            <option>請選擇</option>
            <option v-for="item in filtedItems"
                :key="item.id"
                :value="item.id"
            >
                {{ item.name }}
            </option>

        </select>
    </div>
</template>